<!DOCTYPE html>
{% autoescape true %}
<html>
	<head>
		<title>First Page</title>
	</head>
	<body>
		<!-- This is the form, The action tag is where the information is stored
		so that the back end knows what function to call when the submit button is pressed -->
		<form action="/search" method = "post">
			<select name = "type">
				<option value = "All">Everything</option>
				<option value = "Pub/Bar">Pub/Bar</option>
				<option value = "Restaurant, Asian">Asian Restaurant</option>
				<option value = "Restaurant, American">Burger Bar</option>
				<option value = "Cafe">Cafe</option>
				<option value = "Books">Bookshop</option>
			</select>
			<select name = "suburb">
				<!-- This creates a list of all the towns stored in the database (in Victoria) -->
				{% for town in towns%}
				<option value = "{{town.town}}">{{town.town}}</option>
				{% endfor %}
			</select>
			<input type = "submit" value="Search">
		</form>
		<table>
			<tr>
				<th>Name</th>
				<th>Address</th>
				<th>Telephone</th>
				<th>Type</th>
				<th>Name</th>
				<th>Telephone</th>
				<th>State</th>
				<th>Type</th>
			</tr>
		<!-- This is where the 'code' for jinja occurs. {$ for for executing code -->
			<!-- whereas the double brackets is for a print statement. Here we are going through each of the -->
			<!-- entries in the location dictionary that was passed through by the template-->
		{% for location in location_details %}
			<tr>
				<!-- This here calls an icon from cloud storage -->
				<td><img src="https://storage.cloud.google.com/map-icons-cca02/icons/{{location.localtype}}?authuser=1"height = "40", width="40" /></td>

				<!--This is diplaying the local data passed through from the template -->
				<td><b>{{location.locale}}</b></td>
				<td>{{location.address}}</td>
				<td>{{location.telephone}}</td>
				<td><img src ="https://storage.cloud.google.com/map-icons-cca02/icons/{{location.localtype1}}?authuser=1" height = "40", width="40"/></td>
				<td><b>{{location.locale1}}</b></td>
				<td>{{location.address1}}</td>
				<td>{{location.telephone1}}</td>
			</tr>
		<!-- like BASH script, you need to tell the template where the for loop ends -->	
		{% endfor %}
		</table>
	</body>
</html>
{% endautoescape %}

